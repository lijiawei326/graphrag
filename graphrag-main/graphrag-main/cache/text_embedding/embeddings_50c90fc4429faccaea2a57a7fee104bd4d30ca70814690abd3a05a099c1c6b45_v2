{"result": {"data": [{"embedding": [0.015606423, 0.0018588009, 0.0040038717, -0.023332516, 0.042968, -0.013993319, 0.014074293, 0.032188486, -0.007869761, -0.0030039356, -0.015963934, 0.026124395, -0.012768139, 0.024320228, -0.011772488, -0.011129136, -0.031115033, 0.026226504, -0.03656332, -0.0035957142, -0.043379184, -0.008320357, 0.01676529, -0.020673161, -0.0011987417, 0.057905562, -0.020761643, -0.021802314, -0.048551954, 0.013918729, 0.019152068, 0.0017849881, 0.06533126, -0.052420665, -0.0224857, -0.03736512, 0.009705375, -0.009872138, -0.094452634, 0.012689843, 0.0056140204, 0.0030943747, -0.039882455, -0.009211734, -0.019910961, 0.002089959, -0.06017791, -0.07472801, 0.007219394, 0.0034027225, -0.012737157, -0.0015031237, -0.001825313, -0.025834838, -0.017446171, 0.03053504, -0.014445521, 0.006752849, 0.0031331673, -0.0288181, 0.0013738228, 0.021181472, -0.008233785, 0.017394764, -0.01138558, 0.0025612463, 0.006956994, 0.035732325, 0.020210862, -0.018005744, 0.005452184, -0.007357556, -0.06469456, -0.035562787, 0.025630249, -0.011239239, 0.04715534, -0.0026570759, 0.010982813, -0.035323586, 0.104870446, -0.021338994, 0.035411943, -0.029011687, -0.022144677, -0.03172136, -0.012530512, 0.061830934, 0.0017247548, 0.02808702, -0.02376222, 0.07046012, -0.009408382, -0.026704295, -0.00081811514, -0.0020779506, 0.03156276, -0.015145255, 0.024684705, -0.0029384461, -0.008887027, 0.056502435, 0.021320151, 0.029526113, 0.014595164, -0.008296517, 0.0075233774, 0.033178348, -0.021658564, 0.01367178, -0.011359675, -0.036169, -0.027161479, 0.020115307, -0.008451931, -0.025166396, -0.027236067, 0.02808547, 0.039261483, -0.015629794, 0.025134787, 0.047336824, 0.015497642, -0.002425937, -0.01785932, 0.00034588273, -0.004504769, 0.03704561, -0.01533745, 0.0070360894, -0.0035188245, 0.021103548, 0.035750777, -0.020839699, -0.0472012, -0.03336469, 0.03850125, 0.0408089, 0.014622213, -0.051875368, 0.0037956964, 0.03286692, -0.029626466, -0.009803066, 0.05216646, 0.0065716007, 0.02810631, 0.01904669, 0.012706581, 0.02136894, -0.031193946, -0.02391441, 0.038739417, 0.027650826, 0.03888913, 0.027964782, 0.013999279, -0.02623994, 0.024347922, -0.0012308498, 0.0073574926, -0.043182164, 0.028242175, 0.04613116, -0.020826027, -0.0016658541, 0.03345206, -0.010388461, 0.009407566, -0.08418545, 0.012893009, -0.04525142, 0.013431341, 0.021210559, 0.016905094, 0.057638794, 0.05392178, 0.027191874, 0.04626257, -0.007334371, 0.00010619975, 0.016445182, 0.068539254, -0.035586722, 0.022561736, -0.029170945, -0.027685856, -0.022162238, 0.025499007, 0.06901585, -0.0067371125, -0.020547705, 0.054954223, 0.026111104, -0.014605641, -0.016665963, -0.02263033, 0.014003498, 0.044880666, -0.040433407, -0.023884779, 0.039432816, -0.017612323, 0.011673354, -0.021908455, 0.01533703, -0.033938505, -0.05331927, 0.051289108, 0.027920216, 0.051622435, 0.027754234, -0.008823952, 0.019865325, 0.007719011, -0.01954105, -0.0024597873, -0.005641432, 0.010389659, -0.0010136584, -0.016421268, -0.00050446397, 0.006207082, -0.04673312, 0.026520997, 0.038221434, -9.8742625e-05, 0.031245334, 0.04412657, 0.030182552, -0.03964752, 0.07520375, -0.04747398, -0.040596273, -0.026164861, -0.022826785, -0.04757576, -0.029899249, -0.0052329, 0.054729067, -0.018959345, -0.030701052, -0.0010898089, -0.030452602, -0.047740016, 0.019928027, -0.024903743, 0.04749466, -0.037418395, -0.00953258, -0.004220471, 0.0005044807, 0.007286706, -0.028230153, -0.011338232, -0.07197735, -0.000499256, -0.03936195, -0.0057289395, -0.0015623365, 0.019413494, -0.044877324, -0.004925225, 0.038792472, 0.009695551, 0.016377281, -0.0095829815, -0.04920162, -0.013340825, 0.056192696, -0.009416651, 0.011746252, -0.030147083, 0.0005967875, -0.035701107, -0.022085832, 0.028798968, -0.036580153, 0.029437833, -0.026856445, -0.0073913913, -0.050687503, -0.001257185, 0.011553088, 0.0014885569, 0.019654756, -0.009111773, -0.00034646428, -0.012893498, 0.0019110396, 0.010332989, -0.006585459, 0.07784758, -0.055036172, -0.0098449895, 0.019470653, -0.037061792, -0.18723825, -0.0103488555, 0.020654878, 0.015364059, 0.010052652, -0.00804497, -0.014934456, 0.008982194, -0.011798896, -0.020683503, -0.028043156, -0.12918505, -0.03006897, 0.010455547, -0.000847855, 0.023695828, -0.023971079, -0.017058587, -0.018782042, -0.07443101, -0.0010899943, 0.041499715, 0.03944023, 0.030717647, 0.039257716, 0.019163376, 0.0082562985, 0.041790877, -0.04863665, -0.018357307, -0.054414198, 0.0011142092, -0.014456574, -0.012708002, 0.025119018, 0.033542424, 0.014442835, 0.0074755726, 0.016049085, 0.00051445386, 0.017816488, 0.039017744, -0.0027308743, -0.04552716, 0.026980955, -0.026810361, -0.011487414, -0.02211244, -0.021428378, 0.06598394, -0.022167869, 0.03273215, -0.02112155, 0.003436078, -0.020964732, 0.026358472, -0.013295007, 0.04566054, 0.012981331, 0.041382458, -0.013841676, -0.026678104, -0.03685717, -0.05316783, 0.010231091, 0.022853132, -0.021233879, -0.022039361, 0.009666513, -0.051136818, 0.029084355, -0.047806386, -0.0101336, -0.033035293, 0.007885859, 0.013337478, 0.017300839, -0.037927322, 0.021955146, -0.069253914, 0.026710024, -0.0071238624, -0.014521746, 0.011383599, -0.0111480355, 0.020251937, -0.032260932, -0.019050652, 0.010541035, 0.3418268, -0.029787948, 0.0018811759, 0.014842862, 0.0038451264, 0.018472832, -0.040306803, -0.0032880993, 0.014129546, -0.0016028145, 0.01301686, 0.0022433957, 0.03418555, 0.017597076, 0.02979589, 0.08308644, -0.020676639, 0.0018266483, -0.017443912, 0.008946985, -0.002304923, -0.048630234, -0.002220981, -0.017184367, -0.023752782, 0.0190989, 0.013873483, 0.02702465, -0.046352964, 0.015710955, 0.0049380064, 0.00071344845, 0.0012258148, -0.0071814363, -0.03821846, 0.018634897, -0.038487047, -0.052399147, 0.022704402, -0.0004984814, 0.013410034, -0.032352775, -0.039954405, -0.016710488, -0.041966863, -0.045548715, 0.008132172, -0.008999866, -0.0041661016, -0.030636815, 0.011036855, -0.024393428, -0.05882605, 0.005278867, -0.003598576, 0.0044944873, -0.020203575, -0.0059680883, -0.0067132534, -0.01721129, -0.0016483697, 0.01949616, -0.05059744, 0.028758034, 0.053437248, 0.0057456926, -0.037978865, 0.009895312, 0.014364827, 0.010260527, 0.045165055, 0.017101284, 0.017221587, -0.009390304, 0.01634173, 0.012556593, 0.0039065382, 0.018725326, 0.008662233, -0.012325499, -0.010249188, -0.017599074, 0.011579634, 0.06524752, 0.016368438, 0.025061615, -0.021896847, 0.020120693, -0.008533135, -0.054961983, -0.018520897, -0.026437275, -0.015879532, -0.0019293787, 0.025826259, 0.006124998, 0.0016817271, -0.059034407, 0.012184541, -0.048903268, 0.01871321, -0.0043654568, -0.0045698364, 0.04574872, -0.005668912, -0.002020387, -0.0015819697, -0.004644681, -0.0015661207, 0.02059566, -0.0070078364, -0.007235808, -0.005302842, -0.021489058, 0.0625232, 0.03054241, 0.010162112, 0.00723819, -0.00422579, 0.066115916, -0.037701294, -0.028089577, -0.007069757, -0.012313553, -0.015405724, -0.03463534, -0.011737901, -0.020903999, -0.025167014, 0.040917333, 0.06575104, 0.030883612, 0.00011963819, -0.036240514, -0.0056234337, -0.009996207, 0.00015280399, 0.0025847647, -0.013752189, 0.055105865, 0.0003981215, -0.00062006834, 0.0067678555, 0.022964325, -0.025113245, -0.006368498, 0.012044263, -0.037220564, 0.0066414964, -0.0037135216, 0.02647363, 0.01449721, -0.00019909529, -0.0066989386, 0.012072274, 0.0042387913, 0.022151627, -0.013335662, -0.004365855, -0.03031554, -0.026945362, 0.003330778, -0.010793302, 0.06732181, -0.005850068, 0.052928198, -0.008534428, 0.062999055, -0.0010304365, -0.022820907, 0.005434856, -0.06608648, 0.016129332, 0.018590309, 0.027417338, -0.02289007, -0.008939493, 0.015757227, 0.009666892, -0.009215417, 0.046093892, 0.052030873, -0.024874477, 0.013061543, -0.03466635, -0.016189914, 0.017195903, 0.0021308172, 0.03640049, -0.023285149, 0.025251158, 0.050677042, -0.025450254, 0.0015543461, -0.00036155546, -0.030587465, 0.016943611, 0.016212227, -0.019033713, -0.016413843, 0.058370624, 0.0035779513, 0.007873673, 0.049245335, 0.040367275, -0.007855009, -0.005906811, 0.0064572543, 0.007857927, -0.04129293, -0.004833869, 0.015016727, 0.025693944, -0.039328825, -0.011313559, -0.03631973, 0.047566254, 0.0362388, 0.01384459, 0.011634502, -0.04479025, -0.022761617, 0.008644617, -0.04194937, -0.03521275, 0.010675009, 0.012290608, -0.013986626, -0.0031283281, 0.016668942, -0.012463128, -0.021169353, -0.018017592, -0.04046437, -0.029415756, -0.021780279, 0.0055812346, 0.040508993, 0.008196925, 0.015847899, 0.003024093, -0.033754583, 0.007736588, 0.07661118, 0.006131578, 0.004996737, -0.03173716, 0.030303106, 0.012155147, -0.0077592917, 0.013262534, -0.012273388, -0.048267685, -0.017584141, 0.03190501, 0.029045774, -0.021434288, -0.0065603903, 0.024217645, -0.021776227, 0.0034445862, -0.005406156, 0.012036096, -0.0012380015, 0.010002501, -0.015219066, -0.0021163875, -0.05160559, 0.01016057, -0.044390246, 0.00068676384, -0.0048906514, -0.017049521, -0.007656913, -0.014395021, -0.015779385, -0.013382733, -0.018725516, -0.0020012353, 0.021067362, -0.052051626, -0.005504565, -0.0013455607, -0.0115633, -0.006316456, -0.014580428, 0.0040973206, 0.011076849, -0.0134527, 0.0053795488, 0.030776158, -0.009474256, -0.0284239, -0.0010829037, -0.031199537, 0.02924018, -0.024977839, 0.03880578, 0.03316958, -0.014952717, 0.011440982, 0.0136000095, -0.01073396, -0.011404565, -0.017675746, 0.025020212, -0.0074866326, 0.042283844, -0.04169281, -0.016506832, -0.012629841, -0.015123952, -0.037002433, -0.03019585, -0.039178617, -0.0061685466, -0.009117099, 0.015353021, 0.017711649, -0.031270944, 0.0013476446, 0.005979829, -0.010033731, -0.031293616, 0.003757139, -0.010329467, -0.037621703, 0.013195457, -0.019244187, 0.0068580913, -0.047697634, -0.014758584, 0.0592424, -0.006860272, -0.054830063, -0.005441715, 0.027026616, -0.013565945, 0.019540144, -0.020012463, -0.04427811, 0.021194836, 0.0101176435, 0.012940388, 0.033735897, 0.042266212, -0.0045288457, -0.034519546, -0.036981445, -0.020631986, 0.016016506, -0.0016127981, -0.02908334, 0.02350553, 0.035759363, -0.0071556554, 0.012947291, 0.04894865, 0.024349624, -0.028339263, -0.0049759345, 0.043002255, 0.041890673, 0.01602064, 0.018956754, -0.031357653, 0.012183784, -0.0012491643, 0.0031555349, -0.017518142, 0.032498244, 0.031646296, -0.036482044, -0.042722404, -0.030117454, 0.0009359677, -0.012074602, -0.0019281791, 0.04201962, -0.05478999, -0.021143151, 0.024272503, -0.015322891, -0.02088526, -0.028278973, -0.027071606, -0.022286775, -0.009399506, -0.006053072, 0.027350623, -0.009508944, 0.033242263, 0.007925633, 0.01574725, -0.11885044, 0.04893718, -0.015832398, -0.028290128, 0.039391264, 0.0086593665, 0.009382281, -0.03140585, 0.0021374451, -0.03960815, 0.045680717, -0.009686645, 0.010817603, -0.013556693, -0.0020195644, 0.008727029, -0.033972654, 0.0070017744, 0.028623147, 0.035238396, -0.011606315, -0.021582244, -0.040698424, -0.043923277, 0.03820838, 0.03699231, -0.051004022, -0.003322873, -0.007176266, 0.006997829, 0.0008931193, -0.05882473, -0.042652607, 0.07031501, -0.0018955884, 0.02765405, 0.017403519, -0.03293474, 0.043740395, 0.05889227, 0.03685555, -0.012186379, -0.041145597, 0.024111735, -0.038558945, -0.026846243, 0.031949338, -0.013804971, -0.0063288673, 0.0075806957, -0.07640582, -0.010543401, 0.020107737, 0.030154567, 0.020755593, 0.041271105, -0.024370907, -0.02081089, 0.012018616, 0.033886805, -0.015108197, 0.024438808, -0.024929535, -0.0030130397, -0.005156666, -0.000997852, 0.007130687, -0.011358141, 0.005687599, -0.030640366, 0.0021143917, -0.034373406, -0.031202672, 0.0035192342, 0.038321033, -0.05171477, 0.04642385, -0.0069166636, -0.003257769, -0.010072469, -0.014505068, -0.048171572, -0.005806203, 0.04645646, 0.046764914, -0.022296889, 0.021605061, 0.026651947, -0.035788998, -0.025869774, -0.0036793966, 0.05483891, -0.0001126692, -0.020633224, -0.009055034, 0.008246571, -0.0032990344, 0.0044993614, 0.013953272, 0.0137920305, 0.013252606, 0.030598402, -0.0032375383, 0.0049292855, 0.012609878, 0.014761998, -0.03105334, 0.024208711, -0.0023875595, -0.008248, -0.017208155, -0.046931613, -0.0187537, 0.020677963, -0.053523317, -0.028536465, -0.02968295, 0.01878504, 0.00441155, 0.0006024332, 0.002205701, 0.05054119, 0.008172605, -0.051896237, -0.01239725, 0.0074893115, 0.015640726, 0.0032731562, 0.07308475, -0.023712184, 0.023280881, -0.01591498, -0.018625159, 0.0073938305, -0.024239114, -0.03309961, 0.0017387604, 0.09944797, -0.0003123676, -0.063938774, 0.0028781898, 0.033987083, -0.01197277, -0.008412619, -0.057485405, -0.03016357, 0.0040940004, 0.009099821, -0.00540178, -0.013394866, -0.027342908, 0.0048762737, -0.0032312484, 0.0019485552, -0.014601458, -0.015248568, -0.030470261, -0.017984595, -0.033008758, 0.06733826, 0.04374902, -0.021045232, -0.0038149976, -0.036242925, -0.035654966, 0.04953241, -0.014718154, -0.020535048, 0.03076716, 0.011090281, -0.0120233055, 0.056017935, -0.01695685, 0.055946194, 0.035155833, -0.037528563, 0.03144418, 0.020602891, 0.060693625, -0.01040859, -0.021998754, -0.030762883, 0.0063253595, -0.025338866, 0.0047577485, -0.013305393, -0.027698038, 0.04589318, 0.0049656304, 0.0063364115, -0.03948493, 0.009352953, 0.019780299, 0.007207261, 0.019490507, 0.010178214, -0.010786647, -0.018182792, -0.018562563, 0.00037678084, -0.061174862, -0.055519573, -0.023368267, 0.021198455, 0.0033938573, 0.014200632, -0.054388747, -0.011210161, -0.0023149373, -0.020765653, -0.022329979, 0.02837288, -0.010093137, 0.03835671, 0.0059644794, 0.01326635, 0.0073122405, 0.015095123, 0.033366956, -0.0018258108, 0.0027384406, 0.02716166, -0.03348545, -0.025964182, -0.0135482615, -0.02802454, -0.011127699, 0.024514588, -0.015650298, -0.047654185, 0.023265712, 0.034631453, 0.013980586, 0.03334498, 0.024794888, 0.0153752, 0.017850226, 0.048050024, 0.0040531065, 0.03831, -0.039515026, 0.005355138, 0.017528376, -0.0022583182], "index": 0, "object": "embedding"}], "model": "bge-m3:latest", "object": "list", "usage": {"prompt_tokens": 676, "total_tokens": 676}}, "input": {"input": ["# Deepseek企业级Agent项目开发实战\n\n# Part 4. Microsoft GraphRAG Query构建流程详解\n\n在完成了Microsoft GraphRAG 的索引构建及自定义接入图数据库Neo4j 构建完整的知识图谱后，我们在上一小节课程中已经初步实践了可以通过Cypher 语句来查询结构化数据中的信息。当然，传统的Cypher 查询方式，需要我们具备一定的图数据库知识，对非技术人员来说，使用门槛较高。 而Microsoft GraphRAG 则提供了一种更为直观、易用的查询方式，我们只需要输入自然语言查询，即可获得结构化的查询结果。\n\n这就需要我们了解 Microsoft GraphRAG 使用的第二阶段，即查询（Query）阶段。\n\n索引阶段我们利用大语言模型结合提示工程，从非结构化文本（.txt 、.csv ）中提取出实体（Entities）与关系（Relationships），构建出了基础的 Knowledge Graph ，并且通过建立层次化的community  结构， community  以及 community_report  的丰富语义，相较于传统基于 Cypher 的查询方式可以提供更多灵活性的 Query 操作， Microsoft GraphRAG  在项目开源之初是提供了 local  和global  两种查询方式，分别对应了 local search  和 global search ，而后在不断的迭代更新过程中，除了优化了 local search  和 global search  的效果，还新增了 DRIFT Search  和 Multi IndexSearch  作为扩展优化的可选项，以进一步丰富Query 操作的多样性。\n\nMicrosoft GraphRAG  在查询阶段构建的流程，相较于构建索引阶段会更为直观，核心的具体步骤包括：\n\n1. 接收用户的查询请求。\n\n2. 根据查询所需的详细程度，选择合适的社区级别进行分析。\n\n3. 在选定的社区级别进行信息检索。\n\n4. 依据社区摘要生成初步的响应。\n\n5. 将多个相关社区的初步响应进行整合，形成一个全面的最终答案。\n\n通过学习 Microsoft GraphRAG 索引构建的源码大家应该已经能够清晰的知道， Indexing  过程中并不是在创建完第一层社区后就停止了，而是是分层的。也就是说，当创建第一层社区（即基础社区）后，会将这些社区视为节点，进一步构建更高层级的社区。这种方法就实现在知识图谱中可以以不同的粒度级别上组织和表示数据。比如第一层社区可以包含具体的实体或数据，而更高层级的社区则可以聚合这些基础社区，形成更广泛的概览。\n\n因此最核心的 Local Search  和 Global Search  的实现，就是源于不同的粒度级别而构建出来用于处理不同类型问题的Pipeline , 其中：\n\n1. Local Search  是基于实体的检索。  \n2. Global Search  则是基于社区的检索。\n\n因此接下来，我们就分别从源码层面，来详细介绍 Local Search  和 Global Search  的实现原理，并实际操作不同检索方式的查询操作。\n\n首先来介绍 Local Search ， 即本地检索。"], "parameters": {"model": "bge-m3:latest"}}, "key": "embeddings_50c90fc4429faccaea2a57a7fee104bd4d30ca70814690abd3a05a099c1c6b45_v2"}